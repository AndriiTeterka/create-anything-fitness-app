{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      n[k] = e[k];\n    });\n    n.default = e;\n    return n;\n  }\n  exports.useEventEmitter = useEventEmitter;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  /**\n   * Hook to manage the event system used by the navigator to notify screens of various events.\n   */\n  function useEventEmitter(listen) {\n    const listenRef = React.useRef(listen);\n    React.useEffect(() => {\n      listenRef.current = listen;\n    });\n    const listeners = React.useRef(Object.create(null));\n    const create = React.useCallback(target => {\n      const removeListener = (type, callback) => {\n        const callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n        if (!callbacks) {\n          return;\n        }\n        const index = callbacks.indexOf(callback);\n        if (index > -1) {\n          callbacks.splice(index, 1);\n        }\n      };\n      const addListener = (type, callback) => {\n        listeners.current[type] = listeners.current[type] || {};\n        listeners.current[type][target] = listeners.current[type][target] || [];\n        listeners.current[type][target].push(callback);\n        let removed = false;\n        return () => {\n          // Prevent removing other listeners when unsubscribing same listener multiple times\n          if (!removed) {\n            removed = true;\n            removeListener(type, callback);\n          }\n        };\n      };\n      return {\n        addListener,\n        removeListener\n      };\n    }, []);\n    const emit = React.useCallback(({\n      type,\n      data,\n      target,\n      canPreventDefault\n    }) => {\n      const items = listeners.current[type] || {};\n\n      // Copy the current list of callbacks in case they are mutated during execution\n      const callbacks = target !== undefined ? items[target]?.slice() : [].concat(...Object.keys(items).map(t => items[t])).filter((cb, i, self) => self.lastIndexOf(cb) === i);\n      const event = {\n        get type() {\n          return type;\n        }\n      };\n      if (target !== undefined) {\n        Object.defineProperty(event, 'target', {\n          enumerable: true,\n          get() {\n            return target;\n          }\n        });\n      }\n      if (data !== undefined) {\n        Object.defineProperty(event, 'data', {\n          enumerable: true,\n          get() {\n            return data;\n          }\n        });\n      }\n      if (canPreventDefault) {\n        let defaultPrevented = false;\n        Object.defineProperties(event, {\n          defaultPrevented: {\n            enumerable: true,\n            get() {\n              return defaultPrevented;\n            }\n          },\n          preventDefault: {\n            enumerable: true,\n            value() {\n              defaultPrevented = true;\n            }\n          }\n        });\n      }\n      listenRef.current?.(event);\n      callbacks?.forEach(cb => cb(event));\n      return event;\n    }, []);\n    return React.useMemo(() => ({\n      create,\n      emit\n    }), [create, emit]);\n  }\n});","lineCount":114,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13,"n"],[11,7,1,13],[11,8,1,13,"k"],[11,9,1,13],[11,13,1,13,"e"],[11,14,1,13],[11,15,1,13,"k"],[11,16,1,13],[12,4,1,13],[13,4,1,13,"n"],[13,5,1,13],[13,6,1,13,"default"],[13,13,1,13],[13,16,1,13,"e"],[13,17,1,13],[14,4,1,13],[14,11,1,13,"n"],[14,12,1,13],[15,2,1,13],[16,2,7,0,"exports"],[16,9,7,0],[16,10,7,0,"useEventEmitter"],[16,25,7,0],[16,28,7,0,"useEventEmitter"],[16,43,7,0],[17,2,3,0],[17,6,3,0,"_react"],[17,12,3,0],[17,15,3,0,"require"],[17,22,3,0],[17,23,3,0,"_dependencyMap"],[17,37,3,0],[18,2,3,0],[18,6,3,0,"React"],[18,11,3,0],[18,14,3,0,"_interopNamespace"],[18,31,3,0],[18,32,3,0,"_react"],[18,38,3,0],[19,2,4,0],[20,0,5,0],[21,0,6,0],[22,2,7,7],[22,11,7,16,"useEventEmitter"],[22,26,7,31,"useEventEmitter"],[22,27,7,32,"listen"],[22,33,7,38],[22,35,7,40],[23,4,8,2],[23,10,8,8,"listenRef"],[23,19,8,17],[23,22,8,20,"React"],[23,27,8,25],[23,28,8,26,"useRef"],[23,34,8,32],[23,35,8,33,"listen"],[23,41,8,39],[23,42,8,40],[24,4,9,2,"React"],[24,9,9,7],[24,10,9,8,"useEffect"],[24,19,9,17],[24,20,9,18],[24,26,9,24],[25,6,10,4,"listenRef"],[25,15,10,13],[25,16,10,14,"current"],[25,23,10,21],[25,26,10,24,"listen"],[25,32,10,30],[26,4,11,2],[26,5,11,3],[26,6,11,4],[27,4,12,2],[27,10,12,8,"listeners"],[27,19,12,17],[27,22,12,20,"React"],[27,27,12,25],[27,28,12,26,"useRef"],[27,34,12,32],[27,35,12,33,"Object"],[27,41,12,39],[27,42,12,40,"create"],[27,48,12,46],[27,49,12,47],[27,53,12,51],[27,54,12,52],[27,55,12,53],[28,4,13,2],[28,10,13,8,"create"],[28,16,13,14],[28,19,13,17,"React"],[28,24,13,22],[28,25,13,23,"useCallback"],[28,36,13,34],[28,37,13,35,"target"],[28,43,13,41],[28,47,13,45],[29,6,14,4],[29,12,14,10,"removeListener"],[29,26,14,24],[29,29,14,27,"removeListener"],[29,30,14,28,"type"],[29,34,14,32],[29,36,14,34,"callback"],[29,44,14,42],[29,49,14,47],[30,8,15,6],[30,14,15,12,"callbacks"],[30,23,15,21],[30,26,15,24,"listeners"],[30,35,15,33],[30,36,15,34,"current"],[30,43,15,41],[30,44,15,42,"type"],[30,48,15,46],[30,49,15,47],[30,52,15,50,"listeners"],[30,61,15,59],[30,62,15,60,"current"],[30,69,15,67],[30,70,15,68,"type"],[30,74,15,72],[30,75,15,73],[30,76,15,74,"target"],[30,82,15,80],[30,83,15,81],[30,86,15,84,"undefined"],[30,95,15,93],[31,8,16,6],[31,12,16,10],[31,13,16,11,"callbacks"],[31,22,16,20],[31,24,16,22],[32,10,17,8],[33,8,18,6],[34,8,19,6],[34,14,19,12,"index"],[34,19,19,17],[34,22,19,20,"callbacks"],[34,31,19,29],[34,32,19,30,"indexOf"],[34,39,19,37],[34,40,19,38,"callback"],[34,48,19,46],[34,49,19,47],[35,8,20,6],[35,12,20,10,"index"],[35,17,20,15],[35,20,20,18],[35,21,20,19],[35,22,20,20],[35,24,20,22],[36,10,21,8,"callbacks"],[36,19,21,17],[36,20,21,18,"splice"],[36,26,21,24],[36,27,21,25,"index"],[36,32,21,30],[36,34,21,32],[36,35,21,33],[36,36,21,34],[37,8,22,6],[38,6,23,4],[38,7,23,5],[39,6,24,4],[39,12,24,10,"addListener"],[39,23,24,21],[39,26,24,24,"addListener"],[39,27,24,25,"type"],[39,31,24,29],[39,33,24,31,"callback"],[39,41,24,39],[39,46,24,44],[40,8,25,6,"listeners"],[40,17,25,15],[40,18,25,16,"current"],[40,25,25,23],[40,26,25,24,"type"],[40,30,25,28],[40,31,25,29],[40,34,25,32,"listeners"],[40,43,25,41],[40,44,25,42,"current"],[40,51,25,49],[40,52,25,50,"type"],[40,56,25,54],[40,57,25,55],[40,61,25,59],[40,62,25,60],[40,63,25,61],[41,8,26,6,"listeners"],[41,17,26,15],[41,18,26,16,"current"],[41,25,26,23],[41,26,26,24,"type"],[41,30,26,28],[41,31,26,29],[41,32,26,30,"target"],[41,38,26,36],[41,39,26,37],[41,42,26,40,"listeners"],[41,51,26,49],[41,52,26,50,"current"],[41,59,26,57],[41,60,26,58,"type"],[41,64,26,62],[41,65,26,63],[41,66,26,64,"target"],[41,72,26,70],[41,73,26,71],[41,77,26,75],[41,79,26,77],[42,8,27,6,"listeners"],[42,17,27,15],[42,18,27,16,"current"],[42,25,27,23],[42,26,27,24,"type"],[42,30,27,28],[42,31,27,29],[42,32,27,30,"target"],[42,38,27,36],[42,39,27,37],[42,40,27,38,"push"],[42,44,27,42],[42,45,27,43,"callback"],[42,53,27,51],[42,54,27,52],[43,8,28,6],[43,12,28,10,"removed"],[43,19,28,17],[43,22,28,20],[43,27,28,25],[44,8,29,6],[44,15,29,13],[44,21,29,19],[45,10,30,8],[46,10,31,8],[46,14,31,12],[46,15,31,13,"removed"],[46,22,31,20],[46,24,31,22],[47,12,32,10,"removed"],[47,19,32,17],[47,22,32,20],[47,26,32,24],[48,12,33,10,"removeListener"],[48,26,33,24],[48,27,33,25,"type"],[48,31,33,29],[48,33,33,31,"callback"],[48,41,33,39],[48,42,33,40],[49,10,34,8],[50,8,35,6],[50,9,35,7],[51,6,36,4],[51,7,36,5],[52,6,37,4],[52,13,37,11],[53,8,38,6,"addListener"],[53,19,38,17],[54,8,39,6,"removeListener"],[55,6,40,4],[55,7,40,5],[56,4,41,2],[56,5,41,3],[56,7,41,5],[56,9,41,7],[56,10,41,8],[57,4,42,2],[57,10,42,8,"emit"],[57,14,42,12],[57,17,42,15,"React"],[57,22,42,20],[57,23,42,21,"useCallback"],[57,34,42,32],[57,35,42,33],[57,36,42,34],[58,6,43,4,"type"],[58,10,43,8],[59,6,44,4,"data"],[59,10,44,8],[60,6,45,4,"target"],[60,12,45,10],[61,6,46,4,"canPreventDefault"],[62,4,47,2],[62,5,47,3],[62,10,47,8],[63,6,48,4],[63,12,48,10,"items"],[63,17,48,15],[63,20,48,18,"listeners"],[63,29,48,27],[63,30,48,28,"current"],[63,37,48,35],[63,38,48,36,"type"],[63,42,48,40],[63,43,48,41],[63,47,48,45],[63,48,48,46],[63,49,48,47],[65,6,50,4],[66,6,51,4],[66,12,51,10,"callbacks"],[66,21,51,19],[66,24,51,22,"target"],[66,30,51,28],[66,35,51,33,"undefined"],[66,44,51,42],[66,47,51,45,"items"],[66,52,51,50],[66,53,51,51,"target"],[66,59,51,57],[66,60,51,58],[66,62,51,60,"slice"],[66,67,51,65],[66,68,51,66],[66,69,51,67],[66,72,51,70],[66,74,51,72],[66,75,51,73,"concat"],[66,81,51,79],[66,82,51,80],[66,85,51,83,"Object"],[66,91,51,89],[66,92,51,90,"keys"],[66,96,51,94],[66,97,51,95,"items"],[66,102,51,100],[66,103,51,101],[66,104,51,102,"map"],[66,107,51,105],[66,108,51,106,"t"],[66,109,51,107],[66,113,51,111,"items"],[66,118,51,116],[66,119,51,117,"t"],[66,120,51,118],[66,121,51,119],[66,122,51,120],[66,123,51,121],[66,124,51,122,"filter"],[66,130,51,128],[66,131,51,129],[66,132,51,130,"cb"],[66,134,51,132],[66,136,51,134,"i"],[66,137,51,135],[66,139,51,137,"self"],[66,143,51,141],[66,148,51,146,"self"],[66,152,51,150],[66,153,51,151,"lastIndexOf"],[66,164,51,162],[66,165,51,163,"cb"],[66,167,51,165],[66,168,51,166],[66,173,51,171,"i"],[66,174,51,172],[66,175,51,173],[67,6,52,4],[67,12,52,10,"event"],[67,17,52,15],[67,20,52,18],[68,8,53,6],[68,12,53,10,"type"],[68,16,53,14,"type"],[68,17,53,14],[68,19,53,17],[69,10,54,8],[69,17,54,15,"type"],[69,21,54,19],[70,8,55,6],[71,6,56,4],[71,7,56,5],[72,6,57,4],[72,10,57,8,"target"],[72,16,57,14],[72,21,57,19,"undefined"],[72,30,57,28],[72,32,57,30],[73,8,58,6,"Object"],[73,14,58,12],[73,15,58,13,"defineProperty"],[73,29,58,27],[73,30,58,28,"event"],[73,35,58,33],[73,37,58,35],[73,45,58,43],[73,47,58,45],[74,10,59,8,"enumerable"],[74,20,59,18],[74,22,59,20],[74,26,59,24],[75,10,60,8,"get"],[75,13,60,11,"get"],[75,14,60,11],[75,16,60,14],[76,12,61,10],[76,19,61,17,"target"],[76,25,61,23],[77,10,62,8],[78,8,63,6],[78,9,63,7],[78,10,63,8],[79,6,64,4],[80,6,65,4],[80,10,65,8,"data"],[80,14,65,12],[80,19,65,17,"undefined"],[80,28,65,26],[80,30,65,28],[81,8,66,6,"Object"],[81,14,66,12],[81,15,66,13,"defineProperty"],[81,29,66,27],[81,30,66,28,"event"],[81,35,66,33],[81,37,66,35],[81,43,66,41],[81,45,66,43],[82,10,67,8,"enumerable"],[82,20,67,18],[82,22,67,20],[82,26,67,24],[83,10,68,8,"get"],[83,13,68,11,"get"],[83,14,68,11],[83,16,68,14],[84,12,69,10],[84,19,69,17,"data"],[84,23,69,21],[85,10,70,8],[86,8,71,6],[86,9,71,7],[86,10,71,8],[87,6,72,4],[88,6,73,4],[88,10,73,8,"canPreventDefault"],[88,27,73,25],[88,29,73,27],[89,8,74,6],[89,12,74,10,"defaultPrevented"],[89,28,74,26],[89,31,74,29],[89,36,74,34],[90,8,75,6,"Object"],[90,14,75,12],[90,15,75,13,"defineProperties"],[90,31,75,29],[90,32,75,30,"event"],[90,37,75,35],[90,39,75,37],[91,10,76,8,"defaultPrevented"],[91,26,76,24],[91,28,76,26],[92,12,77,10,"enumerable"],[92,22,77,20],[92,24,77,22],[92,28,77,26],[93,12,78,10,"get"],[93,15,78,13,"get"],[93,16,78,13],[93,18,78,16],[94,14,79,12],[94,21,79,19,"defaultPrevented"],[94,37,79,35],[95,12,80,10],[96,10,81,8],[96,11,81,9],[97,10,82,8,"preventDefault"],[97,24,82,22],[97,26,82,24],[98,12,83,10,"enumerable"],[98,22,83,20],[98,24,83,22],[98,28,83,26],[99,12,84,10,"value"],[99,17,84,15,"value"],[99,18,84,15],[99,20,84,18],[100,14,85,12,"defaultPrevented"],[100,30,85,28],[100,33,85,31],[100,37,85,35],[101,12,86,10],[102,10,87,8],[103,8,88,6],[103,9,88,7],[103,10,88,8],[104,6,89,4],[105,6,90,4,"listenRef"],[105,15,90,13],[105,16,90,14,"current"],[105,23,90,21],[105,26,90,24,"event"],[105,31,90,29],[105,32,90,30],[106,6,91,4,"callbacks"],[106,15,91,13],[106,17,91,15,"forEach"],[106,24,91,22],[106,25,91,23,"cb"],[106,27,91,25],[106,31,91,29,"cb"],[106,33,91,31],[106,34,91,32,"event"],[106,39,91,37],[106,40,91,38],[106,41,91,39],[107,6,92,4],[107,13,92,11,"event"],[107,18,92,16],[108,4,93,2],[108,5,93,3],[108,7,93,5],[108,9,93,7],[108,10,93,8],[109,4,94,2],[109,11,94,9,"React"],[109,16,94,14],[109,17,94,15,"useMemo"],[109,24,94,22],[109,25,94,23],[109,32,94,30],[110,6,95,4,"create"],[110,12,95,10],[111,6,96,4,"emit"],[112,4,97,2],[112,5,97,3],[112,6,97,4],[112,8,97,6],[112,9,97,7,"create"],[112,15,97,13],[112,17,97,15,"emit"],[112,21,97,19],[112,22,97,20],[112,23,97,21],[113,2,98,0],[114,0,98,1],[114,3]],"functionMap":{"names":["<global>","useEventEmitter","React.useEffect$argument_0","create","removeListener","addListener","<anonymous>","emit","Object.keys.map$argument_0","concat.filter$argument_0","event.get__type","Object.defineProperty$argument_2.get","Object.defineProperties$argument_1.defaultPrevented.get","Object.defineProperties$argument_1.preventDefault.value","callbacks.forEach$argument_0","React.useMemo$argument_0"],"mappings":"AAA;OCM;kBCE;GDE;mCEE;2BCC;KDS;wBEC;aCK;ODM;KFC;GFK;iCMC;0GCS,aD,UE,2CF;MGE;OHE;QIK;SJE;QIM;SJE;UKQ;WLE;UMI;WNE;uBOK,eP;GNE;uBcC;IdG;CDC"},"hasCjsExports":false},"type":"js/module"}]}