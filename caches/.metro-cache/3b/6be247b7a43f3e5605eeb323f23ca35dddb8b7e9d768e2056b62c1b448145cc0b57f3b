{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":64,"index":98}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":69,"index":168}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useWorkoutsStore\", {\n    enumerable: true,\n    get: function () {\n      return useWorkoutsStore;\n    }\n  });\n  Object.defineProperty(exports, \"getRecentIds\", {\n    enumerable: true,\n    get: function () {\n      return getRecentIds;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _zustandMiddleware = require(_dependencyMap[1], \"zustand/middleware\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var now = () => Date.now();\n  var USER_GUEST = 'guest';\n  var useWorkoutsStore = (0, _zustand.create)((0, _zustandMiddleware.persist)((set, get) => ({\n    savedByUser: {},\n    // { [userKey]: { [id]: true } }\n    historyByUser: {},\n    // { [userKey]: Array<{ id: string|number, at: number, type: 'view'|'complete' }> }\n\n    // Helpers\n    userKeyFor: user => user?.id || USER_GUEST,\n    // Saved / Favorites\n    isSaved: (userKey, id) => !!get().savedByUser?.[userKey]?.[id],\n    toggleSaved: (userKey, id) => set(state => {\n      var saved = {\n        ...(state.savedByUser[userKey] || {})\n      };\n      if (saved[id]) delete saved[id];else saved[id] = true;\n      return {\n        savedByUser: {\n          ...state.savedByUser,\n          [userKey]: saved\n        }\n      };\n    }),\n    save: (userKey, id) => set(state => ({\n      savedByUser: {\n        ...state.savedByUser,\n        [userKey]: {\n          ...(state.savedByUser[userKey] || {}),\n          [id]: true\n        }\n      }\n    })),\n    unsave: (userKey, id) => set(state => {\n      var next = {\n        ...(state.savedByUser[userKey] || {})\n      };\n      delete next[id];\n      return {\n        savedByUser: {\n          ...state.savedByUser,\n          [userKey]: next\n        }\n      };\n    }),\n    // History\n    recordAccess: (userKey, id) => set(state => ({\n      historyByUser: {\n        ...state.historyByUser,\n        [userKey]: [...(state.historyByUser[userKey] || []), {\n          id,\n          at: now(),\n          type: 'view'\n        }]\n      }\n    })),\n    recordComplete: (userKey, id) => set(state => ({\n      historyByUser: {\n        ...state.historyByUser,\n        [userKey]: [...(state.historyByUser[userKey] || []), {\n          id,\n          at: now(),\n          type: 'complete'\n        }]\n      }\n    })),\n    clearHistory: userKey => set(state => ({\n      historyByUser: {\n        ...state.historyByUser,\n        [userKey]: []\n      }\n    })),\n    clearAll: () => set({\n      savedByUser: {},\n      historyByUser: {}\n    })\n  }), {\n    name: 'workouts-store-v1',\n    storage: (0, _zustandMiddleware.createJSONStorage)(() => AsyncStorage.default),\n    partialize: state => ({\n      savedByUser: state.savedByUser,\n      historyByUser: state.historyByUser\n    })\n  }));\n\n  // Utilities for consumers\n  var getRecentIds = function () {\n    var history = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var days = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n    var cutoff = now() - days * 24 * 60 * 60 * 1000;\n    var latestById = new Map();\n    for (var evt of history) {\n      if (evt.at >= cutoff) {\n        var prev = latestById.get(evt.id);\n        if (!prev || evt.at > prev.at) latestById.set(evt.id, evt);\n      }\n    }\n    // Sort by most recent first\n    return Array.from(latestById.values()).sort((a, b) => b.at - a.at).map(e => e.id);\n  };\n});","lineCount":128,"map":[[12,2,8,0,"Object"],[12,8,8,0],[12,9,8,0,"defineProperty"],[12,23,8,0],[12,24,8,0,"exports"],[12,31,8,0],[13,4,8,0,"enumerable"],[13,14,8,0],[14,4,8,0,"get"],[14,7,8,0],[14,18,8,0,"get"],[14,19,8,0],[15,6,8,0],[15,13,8,0,"useWorkoutsStore"],[15,29,8,0],[16,4,8,0],[17,2,8,0],[18,2,77,0,"Object"],[18,8,77,0],[18,9,77,0,"defineProperty"],[18,23,77,0],[18,24,77,0,"exports"],[18,31,77,0],[19,4,77,0,"enumerable"],[19,14,77,0],[20,4,77,0,"get"],[20,7,77,0],[20,18,77,0,"get"],[20,19,77,0],[21,6,77,0],[21,13,77,0,"getRecentIds"],[21,25,77,0],[22,4,77,0],[23,2,77,0],[24,2,1,0],[24,6,1,0,"_zustand"],[24,14,1,0],[24,17,1,0,"require"],[24,24,1,0],[24,25,1,0,"_dependencyMap"],[24,39,1,0],[25,2,2,0],[25,6,2,0,"_zustandMiddleware"],[25,24,2,0],[25,27,2,0,"require"],[25,34,2,0],[25,35,2,0,"_dependencyMap"],[25,49,2,0],[26,2,3,0],[26,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,3,0],[26,45,3,0,"require"],[26,52,3,0],[26,53,3,0,"_dependencyMap"],[26,67,3,0],[27,2,3,0],[27,6,3,0,"AsyncStorage"],[27,18,3,0],[27,21,3,0,"_interopDefault"],[27,36,3,0],[27,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,3,0],[28,2,5,0],[28,6,5,6,"now"],[28,9,5,9],[28,12,5,12,"now"],[28,13,5,12],[28,18,5,18,"Date"],[28,22,5,22],[28,23,5,23,"now"],[28,26,5,26],[28,27,5,27],[28,28,5,28],[29,2,6,0],[29,6,6,6,"USER_GUEST"],[29,16,6,16],[29,19,6,19],[29,26,6,26],[30,2,8,7],[30,6,8,13,"useWorkoutsStore"],[30,22,8,29],[30,25,8,32],[30,29,8,32,"create"],[30,37,8,38],[30,38,8,38,"create"],[30,44,8,38],[30,46,9,2],[30,50,9,2,"persist"],[30,68,9,9],[30,69,9,9,"persist"],[30,76,9,9],[30,78,10,4],[30,79,10,5,"set"],[30,82,10,8],[30,84,10,10,"get"],[30,87,10,13],[30,93,10,19],[31,4,11,6,"savedByUser"],[31,15,11,17],[31,17,11,19],[31,18,11,20],[31,19,11,21],[32,4,11,23],[33,4,12,6,"historyByUser"],[33,17,12,19],[33,19,12,21],[33,20,12,22],[33,21,12,23],[34,4,12,25],[36,4,14,6],[37,4,15,6,"userKeyFor"],[37,14,15,16],[37,16,15,19,"user"],[37,20,15,23],[37,24,15,28,"user"],[37,28,15,32],[37,30,15,34,"id"],[37,32,15,36],[37,36,15,40,"USER_GUEST"],[37,46,15,50],[38,4,17,6],[39,4,18,6,"isSaved"],[39,11,18,13],[39,13,18,15,"isSaved"],[39,14,18,16,"userKey"],[39,21,18,23],[39,23,18,25,"id"],[39,25,18,27],[39,30,18,32],[39,31,18,33],[39,32,18,34,"get"],[39,35,18,37],[39,36,18,38],[39,37,18,39],[39,38,18,40,"savedByUser"],[39,49,18,51],[39,52,18,54,"userKey"],[39,59,18,61],[39,60,18,62],[39,63,18,65,"id"],[39,65,18,67],[39,66,18,68],[40,4,19,6,"toggleSaved"],[40,15,19,17],[40,17,19,19,"toggleSaved"],[40,18,19,20,"userKey"],[40,25,19,27],[40,27,19,29,"id"],[40,29,19,31],[40,34,20,8,"set"],[40,37,20,11],[40,38,20,13,"state"],[40,43,20,18],[40,47,20,23],[41,6,21,10],[41,10,21,16,"saved"],[41,15,21,21],[41,18,21,24],[42,8,21,26],[42,12,21,30,"state"],[42,17,21,35],[42,18,21,36,"savedByUser"],[42,29,21,47],[42,30,21,48,"userKey"],[42,37,21,55],[42,38,21,56],[42,42,21,60],[42,43,21,61],[42,44,21,62],[43,6,21,64],[43,7,21,65],[44,6,22,10],[44,10,22,14,"saved"],[44,15,22,19],[44,16,22,20,"id"],[44,18,22,22],[44,19,22,23],[44,21,22,25],[44,28,22,32,"saved"],[44,33,22,37],[44,34,22,38,"id"],[44,36,22,40],[44,37,22,41],[44,38,22,42],[44,43,23,15,"saved"],[44,48,23,20],[44,49,23,21,"id"],[44,51,23,23],[44,52,23,24],[44,55,23,27],[44,59,23,31],[45,6,24,10],[45,13,24,17],[46,8,24,19,"savedByUser"],[46,19,24,30],[46,21,24,32],[47,10,24,34],[47,13,24,37,"state"],[47,18,24,42],[47,19,24,43,"savedByUser"],[47,30,24,54],[48,10,24,56],[48,11,24,57,"userKey"],[48,18,24,64],[48,21,24,67,"saved"],[49,8,24,73],[50,6,24,75],[50,7,24,76],[51,4,25,8],[51,5,25,9],[51,6,25,10],[52,4,26,6,"save"],[52,8,26,10],[52,10,26,12,"save"],[52,11,26,13,"userKey"],[52,18,26,20],[52,20,26,22,"id"],[52,22,26,24],[52,27,27,8,"set"],[52,30,27,11],[52,31,27,13,"state"],[52,36,27,18],[52,41,27,24],[53,6,28,10,"savedByUser"],[53,17,28,21],[53,19,28,23],[54,8,29,12],[54,11,29,15,"state"],[54,16,29,20],[54,17,29,21,"savedByUser"],[54,28,29,32],[55,8,30,12],[55,9,30,13,"userKey"],[55,16,30,20],[55,19,30,23],[56,10,30,25],[56,14,30,29,"state"],[56,19,30,34],[56,20,30,35,"savedByUser"],[56,31,30,46],[56,32,30,47,"userKey"],[56,39,30,54],[56,40,30,55],[56,44,30,59],[56,45,30,60],[56,46,30,61],[56,47,30,62],[57,10,30,64],[57,11,30,65,"id"],[57,13,30,67],[57,16,30,70],[58,8,30,75],[59,6,31,10],[60,4,32,8],[60,5,32,9],[60,6,32,10],[60,7,32,11],[61,4,33,6,"unsave"],[61,10,33,12],[61,12,33,14,"unsave"],[61,13,33,15,"userKey"],[61,20,33,22],[61,22,33,24,"id"],[61,24,33,26],[61,29,34,8,"set"],[61,32,34,11],[61,33,34,13,"state"],[61,38,34,18],[61,42,34,23],[62,6,35,10],[62,10,35,16,"next"],[62,14,35,20],[62,17,35,23],[63,8,35,25],[63,12,35,29,"state"],[63,17,35,34],[63,18,35,35,"savedByUser"],[63,29,35,46],[63,30,35,47,"userKey"],[63,37,35,54],[63,38,35,55],[63,42,35,59],[63,43,35,60],[63,44,35,61],[64,6,35,63],[64,7,35,64],[65,6,36,10],[65,13,36,17,"next"],[65,17,36,21],[65,18,36,22,"id"],[65,20,36,24],[65,21,36,25],[66,6,37,10],[66,13,37,17],[67,8,37,19,"savedByUser"],[67,19,37,30],[67,21,37,32],[68,10,37,34],[68,13,37,37,"state"],[68,18,37,42],[68,19,37,43,"savedByUser"],[68,30,37,54],[69,10,37,56],[69,11,37,57,"userKey"],[69,18,37,64],[69,21,37,67,"next"],[70,8,37,72],[71,6,37,74],[71,7,37,75],[72,4,38,8],[72,5,38,9],[72,6,38,10],[73,4,40,6],[74,4,41,6,"recordAccess"],[74,16,41,18],[74,18,41,20,"recordAccess"],[74,19,41,21,"userKey"],[74,26,41,28],[74,28,41,30,"id"],[74,30,41,32],[74,35,42,8,"set"],[74,38,42,11],[74,39,42,13,"state"],[74,44,42,18],[74,49,42,24],[75,6,43,10,"historyByUser"],[75,19,43,23],[75,21,43,25],[76,8,44,12],[76,11,44,15,"state"],[76,16,44,20],[76,17,44,21,"historyByUser"],[76,30,44,34],[77,8,45,12],[77,9,45,13,"userKey"],[77,16,45,20],[77,19,45,23],[77,20,46,14],[77,24,46,18,"state"],[77,29,46,23],[77,30,46,24,"historyByUser"],[77,43,46,37],[77,44,46,38,"userKey"],[77,51,46,45],[77,52,46,46],[77,56,46,50],[77,58,46,52],[77,59,46,53],[77,61,47,14],[78,10,47,16,"id"],[78,12,47,18],[79,10,47,20,"at"],[79,12,47,22],[79,14,47,24,"now"],[79,17,47,27],[79,18,47,28],[79,19,47,29],[80,10,47,31,"type"],[80,14,47,35],[80,16,47,37],[81,8,47,44],[81,9,47,45],[82,6,49,10],[83,4,50,8],[83,5,50,9],[83,6,50,10],[83,7,50,11],[84,4,51,6,"recordComplete"],[84,18,51,20],[84,20,51,22,"recordComplete"],[84,21,51,23,"userKey"],[84,28,51,30],[84,30,51,32,"id"],[84,32,51,34],[84,37,52,8,"set"],[84,40,52,11],[84,41,52,13,"state"],[84,46,52,18],[84,51,52,24],[85,6,53,10,"historyByUser"],[85,19,53,23],[85,21,53,25],[86,8,54,12],[86,11,54,15,"state"],[86,16,54,20],[86,17,54,21,"historyByUser"],[86,30,54,34],[87,8,55,12],[87,9,55,13,"userKey"],[87,16,55,20],[87,19,55,23],[87,20,56,14],[87,24,56,18,"state"],[87,29,56,23],[87,30,56,24,"historyByUser"],[87,43,56,37],[87,44,56,38,"userKey"],[87,51,56,45],[87,52,56,46],[87,56,56,50],[87,58,56,52],[87,59,56,53],[87,61,57,14],[88,10,57,16,"id"],[88,12,57,18],[89,10,57,20,"at"],[89,12,57,22],[89,14,57,24,"now"],[89,17,57,27],[89,18,57,28],[89,19,57,29],[90,10,57,31,"type"],[90,14,57,35],[90,16,57,37],[91,8,57,48],[91,9,57,49],[92,6,59,10],[93,4,60,8],[93,5,60,9],[93,6,60,10],[93,7,60,11],[94,4,61,6,"clearHistory"],[94,16,61,18],[94,18,61,21,"userKey"],[94,25,61,28],[94,29,62,8,"set"],[94,32,62,11],[94,33,62,13,"state"],[94,38,62,18],[94,43,62,24],[95,6,62,26,"historyByUser"],[95,19,62,39],[95,21,62,41],[96,8,62,43],[96,11,62,46,"state"],[96,16,62,51],[96,17,62,52,"historyByUser"],[96,30,62,65],[97,8,62,67],[97,9,62,68,"userKey"],[97,16,62,75],[97,19,62,78],[98,6,62,81],[99,4,62,83],[99,5,62,84],[99,6,62,85],[99,7,62,86],[100,4,63,6,"clearAll"],[100,12,63,14],[100,14,63,16,"clearAll"],[100,15,63,16],[100,20,63,22,"set"],[100,23,63,25],[100,24,63,26],[101,6,63,28,"savedByUser"],[101,17,63,39],[101,19,63,41],[101,20,63,42],[101,21,63,43],[102,6,63,45,"historyByUser"],[102,19,63,58],[102,21,63,60],[102,22,63,61],[103,4,63,63],[103,5,63,64],[104,2,64,4],[104,3,64,5],[104,4,64,6],[104,6,65,4],[105,4,66,6,"name"],[105,8,66,10],[105,10,66,12],[105,29,66,31],[106,4,67,6,"storage"],[106,11,67,13],[106,13,67,15],[106,17,67,15,"createJSONStorage"],[106,35,67,32],[106,36,67,32,"createJSONStorage"],[106,53,67,32],[106,55,67,33],[106,61,67,39,"AsyncStorage"],[106,73,67,51],[106,74,67,51,"default"],[106,81,67,51],[106,82,67,52],[107,4,68,6,"partialize"],[107,14,68,16],[107,16,68,19,"state"],[107,21,68,24],[107,26,68,30],[108,6,69,8,"savedByUser"],[108,17,69,19],[108,19,69,21,"state"],[108,24,69,26],[108,25,69,27,"savedByUser"],[108,36,69,38],[109,6,70,8,"historyByUser"],[109,19,70,21],[109,21,70,23,"state"],[109,26,70,28],[109,27,70,29,"historyByUser"],[110,4,71,6],[110,5,71,7],[111,2,72,4],[111,3,73,2],[111,4,74,0],[111,5,74,1],[113,2,76,0],[114,2,77,7],[114,6,77,13,"getRecentIds"],[114,18,77,25],[114,21,77,28],[114,30,77,28,"getRecentIds"],[114,31,77,28],[114,33,77,57],[115,4,77,57],[115,8,77,29,"history"],[115,15,77,36],[115,18,77,36,"arguments"],[115,27,77,36],[115,28,77,36,"length"],[115,34,77,36],[115,42,77,36,"arguments"],[115,51,77,36],[115,59,77,36,"undefined"],[115,68,77,36],[115,71,77,36,"arguments"],[115,80,77,36],[115,86,77,39],[115,88,77,41],[116,4,77,41],[116,8,77,43,"days"],[116,12,77,47],[116,15,77,47,"arguments"],[116,24,77,47],[116,25,77,47,"length"],[116,31,77,47],[116,39,77,47,"arguments"],[116,48,77,47],[116,56,77,47,"undefined"],[116,65,77,47],[116,68,77,47,"arguments"],[116,77,77,47],[116,83,77,50],[116,85,77,52],[117,4,78,2],[117,8,78,8,"cutoff"],[117,14,78,14],[117,17,78,17,"now"],[117,20,78,20],[117,21,78,21],[117,22,78,22],[117,25,78,25,"days"],[117,29,78,29],[117,32,78,32],[117,34,78,34],[117,37,78,37],[117,39,78,39],[117,42,78,42],[117,44,78,44],[117,47,78,47],[117,51,78,51],[118,4,79,2],[118,8,79,8,"latestById"],[118,18,79,18],[118,21,79,21],[118,25,79,25,"Map"],[118,28,79,28],[118,29,79,29],[118,30,79,30],[119,4,80,2],[119,9,80,7],[119,13,80,13,"evt"],[119,16,80,16],[119,20,80,20,"history"],[119,27,80,27],[119,29,80,29],[120,6,81,4],[120,10,81,8,"evt"],[120,13,81,11],[120,14,81,12,"at"],[120,16,81,14],[120,20,81,18,"cutoff"],[120,26,81,24],[120,28,81,26],[121,8,82,6],[121,12,82,12,"prev"],[121,16,82,16],[121,19,82,19,"latestById"],[121,29,82,29],[121,30,82,30,"get"],[121,33,82,33],[121,34,82,34,"evt"],[121,37,82,37],[121,38,82,38,"id"],[121,40,82,40],[121,41,82,41],[122,8,83,6],[122,12,83,10],[122,13,83,11,"prev"],[122,17,83,15],[122,21,83,19,"evt"],[122,24,83,22],[122,25,83,23,"at"],[122,27,83,25],[122,30,83,28,"prev"],[122,34,83,32],[122,35,83,33,"at"],[122,37,83,35],[122,39,83,37,"latestById"],[122,49,83,47],[122,50,83,48,"set"],[122,53,83,51],[122,54,83,52,"evt"],[122,57,83,55],[122,58,83,56,"id"],[122,60,83,58],[122,62,83,60,"evt"],[122,65,83,63],[122,66,83,64],[123,6,84,4],[124,4,85,2],[125,4,86,2],[126,4,87,2],[126,11,87,9,"Array"],[126,16,87,14],[126,17,87,15,"from"],[126,21,87,19],[126,22,87,20,"latestById"],[126,32,87,30],[126,33,87,31,"values"],[126,39,87,37],[126,40,87,38],[126,41,87,39],[126,42,87,40],[126,43,88,5,"sort"],[126,47,88,9],[126,48,88,10],[126,49,88,11,"a"],[126,50,88,12],[126,52,88,14,"b"],[126,53,88,15],[126,58,88,20,"b"],[126,59,88,21],[126,60,88,22,"at"],[126,62,88,24],[126,65,88,27,"a"],[126,66,88,28],[126,67,88,29,"at"],[126,69,88,31],[126,70,88,32],[126,71,89,5,"map"],[126,74,89,8],[126,75,89,10,"e"],[126,76,89,11],[126,80,89,16,"e"],[126,81,89,17],[126,82,89,18,"id"],[126,84,89,20],[126,85,89,21],[127,2,90,0],[127,3,90,1],[128,0,90,2],[128,3]],"functionMap":{"names":["<global>","now","persist$argument_0","userKeyFor","isSaved","toggleSaved","set$argument_0","save","unsave","recordAccess","recordComplete","clearHistory","clearAll","createJSONStorage$argument_0","persist$argument_1.partialize","getRecentIds","Array.from.sort$argument_0","Array.from.sort.map$argument_0"],"mappings":"AAA;YCI,gBD;IEK;kBCK,gCD;eEG,qDF;mBGC;YCC;SDK,CH;YKC;YDC;UCK,CL;cMC;YFC;SEI,CN;oBOG;YHC;UGQ,CP;sBQC;YJC;UIQ,CR;oBSC;YLC,yEK,CT;gBUC,iDV;MFC;iCaG,kBb;kBcC;QdG;4BeM;UCW,qBD;SEC,WF;CfC"},"hasCjsExports":false},"type":"js/module"}]}